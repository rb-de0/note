# -*- mode: ruby -*-
# vi: set ft=ruby :
create_table "_fluent_migrations", id: :binary, limit: 16, options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.string "name", null: false
  t.bigint "batch", null: false
  t.datetime "created_at", precision: 6
  t.datetime "updated_at", precision: 6
  t.index ["name"], name: "uq:_fluent_migrations.name", unique: true
end

create_table "categories", options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.string "name", null: false
  t.datetime "created_at", precision: 6
  t.datetime "updated_at", precision: 6
  t.index ["name"], name: "uq:categories.name", unique: true
end

create_table "images", options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.string "path", null: false
  t.string "alt_description", null: false
  t.datetime "created_at", precision: 6
  t.datetime "updated_at", precision: 6
  t.index ["path"], name: "uq:images.path", unique: true
end

create_table "post_tag", options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.bigint "post_id", null: false
  t.bigint "tag_id", null: false
  t.index ["post_id"], name: "fk:post_tag.post_id+post_tag.id"
  t.index ["tag_id"], name: "fk:post_tag.tag_id+post_tag.id"
end

create_table "posts", options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.string "title", limit: 128, null: false
  t.string "content", limit: 8192, null: false
  t.string "html_content", limit: 8192, null: false
  t.string "part_of_content", limit: 150, null: false
  t.bigint "category_id"
  t.bigint "user_id"
  t.binary "is_static", limit: 1, null: false
  t.binary "is_published", limit: 1, null: false
  t.datetime "created_at", precision: 6
  t.datetime "updated_at", precision: 6
  t.index ["category_id"], name: "fk:posts.category_id+posts.id"
  t.index ["user_id"], name: "fk:posts.user_id+posts.id"
end

create_table "siteinfos", options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.string "name", null: false
  t.string "description", null: false
  t.string "theme"
  t.datetime "created_at", precision: 6
  t.datetime "updated_at", precision: 6
end

create_table "tags", options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.string "name", null: false
  t.datetime "created_at", precision: 6
  t.datetime "updated_at", precision: 6
  t.index ["name"], name: "uq:tags.name", unique: true
end

create_table "users", options: "ENGINE=InnoDB DEFAULT CHARSET=utf8", force: :cascade do |t|
  t.string "name", null: false
  t.string "password", null: false
  t.string "api_key", null: false
  t.string "api_secret", null: false
  t.string "access_token", null: false
  t.string "access_token_secret", null: false
  t.datetime "created_at", precision: 6
  t.datetime "updated_at", precision: 6
end

add_foreign_key "post_tag", "posts", name: "fk:post_tag.post_id+post_tag.id", on_delete: :cascade
add_foreign_key "post_tag", "tags", name: "fk:post_tag.tag_id+post_tag.id", on_delete: :cascade
add_foreign_key "posts", "categories", name: "fk:posts.category_id+posts.id"
add_foreign_key "posts", "users", name: "fk:posts.user_id+posts.id"
